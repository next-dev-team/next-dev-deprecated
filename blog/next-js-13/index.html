<!DOCTYPE html><html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="shortcut icon" href="https://gw.alipayobjects.com/zos/bmw-prod/d3e3eb39-1cd7-4aa5-827c-877deced6b7e/lalxt4g3_w256_h256.png">
<link rel="stylesheet" href="/next-dev/umi.b33836aa.css">
<title data-rh="true">Next.js 13</title>
<meta data-rh="true" property="og:title" content="Next.js 13"/><meta data-rh="true" name="description" content="As we announced at Next.js Conf, Next.js 13 (stable) lays the foundations to be dynamic without limits:"/><meta data-rh="true" property="og:description" content="As we announced at Next.js Conf, Next.js 13 (stable) lays the foundations to be dynamic without limits:"/>
</head>
<body>
<noscript><b>Enable JavaScript to run this app.</b></noscript><div id="root"><!--$?--><template id="B:0"></template><div></div><!--/$--></div><script>window.__UMI_LOADER_DATA__ = {}</script>
<script src="/next-dev/umi.a6f26de6.js"></script>

</body></html><div hidden id="S:0"><!--$?--><template id="B:1"></template><div></div><!--/$--></div><script>function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><!--$?--><template id="B:2"></template><div></div><!--/$--><style data-token-hash="nz0e5v" data-css-hash="m8dr4d">:where(.css-1i536d8)[class^="ant-float-btn"],:where(.css-1i536d8)[class*=" ant-float-btn"]{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-size:14px;box-sizing:border-box;}:where(.css-1i536d8)[class^="ant-float-btn"]::before,:where(.css-1i536d8)[class*=" ant-float-btn"]::before,:where(.css-1i536d8)[class^="ant-float-btn"]::after,:where(.css-1i536d8)[class*=" ant-float-btn"]::after{box-sizing:border-box;}:where(.css-1i536d8)[class^="ant-float-btn"] [class^="ant-float-btn"],:where(.css-1i536d8)[class*=" ant-float-btn"] [class^="ant-float-btn"],:where(.css-1i536d8)[class^="ant-float-btn"] [class*=" ant-float-btn"],:where(.css-1i536d8)[class*=" ant-float-btn"] [class*=" ant-float-btn"]{box-sizing:border-box;}:where(.css-1i536d8)[class^="ant-float-btn"] [class^="ant-float-btn"]::before,:where(.css-1i536d8)[class*=" ant-float-btn"] [class^="ant-float-btn"]::before,:where(.css-1i536d8)[class^="ant-float-btn"] [class*=" ant-float-btn"]::before,:where(.css-1i536d8)[class*=" ant-float-btn"] [class*=" ant-float-btn"]::before,:where(.css-1i536d8)[class^="ant-float-btn"] [class^="ant-float-btn"]::after,:where(.css-1i536d8)[class*=" ant-float-btn"] [class^="ant-float-btn"]::after,:where(.css-1i536d8)[class^="ant-float-btn"] [class*=" ant-float-btn"]::after,:where(.css-1i536d8)[class*=" ant-float-btn"] [class*=" ant-float-btn"]::after{box-sizing:border-box;}:where(.css-1i536d8).ant-float-btn-group{box-sizing:border-box;margin:0;padding:0;color:rgba(0, 0, 0, 0.88);font-size:14px;line-height:1.5714285714285714;list-style:none;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';z-index:99;display:block;border:none;position:fixed;width:40px;height:auto;box-shadow:none;min-height:40px;inset-inline-end:24px;inset-block-end:48px;border-radius:8px;}:where(.css-1i536d8).ant-float-btn-group .ant-float-btn-group-wrap{z-index:-1;display:block;position:relative;margin-bottom:16px;}:where(.css-1i536d8).ant-float-btn-group:where(.css-1i536d8).ant-float-btn-group-rtl{direction:rtl;}:where(.css-1i536d8).ant-float-btn-group .ant-float-btn{position:static;}:where(.css-1i536d8).ant-float-btn-group-circle .ant-float-btn-circle:not(:last-child){margin-bottom:16px;}:where(.css-1i536d8).ant-float-btn-group-circle .ant-float-btn-circle:not(:last-child) .ant-float-btn-body{width:40px;height:40px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square{border-radius:0;padding:0;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square:first-child{border-start-start-radius:8px;border-start-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square:last-child{border-end-start-radius:8px;border-end-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square:not(:last-child){border-bottom:1px solid rgba(5, 5, 5, 0.06);}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap{display:block;border-radius:8px;box-shadow:0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05);overflow:hidden;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square{box-shadow:none;margin-top:0;border-radius:0;padding:4px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square:first-child{border-start-start-radius:8px;border-start-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square:last-child{border-end-start-radius:8px;border-end-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square:not(:last-child){border-bottom:1px solid rgba(5, 5, 5, 0.06);}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square .ant-float-btn-body{width:32px;height:32px;}:where(.css-1i536d8).ant-float-btn-group-circle-shadow{box-shadow:none;}:where(.css-1i536d8).ant-float-btn-group-square-shadow{box-shadow:0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05);}:where(.css-1i536d8).ant-float-btn-group-square-shadow .ant-float-btn-square{box-shadow:none;padding:4px;}:where(.css-1i536d8).ant-float-btn-group-square-shadow .ant-float-btn-square .ant-float-btn-body{width:32px;height:32px;}:where(.css-1i536d8).ant-float-btn{box-sizing:border-box;margin:0;padding:0;color:rgba(0, 0, 0, 0.88);font-size:14px;line-height:1.5714285714285714;list-style:none;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';border:none;position:fixed;cursor:pointer;overflow:hidden;z-index:99;display:block;justify-content:center;align-items:center;width:40px;height:40px;inset-inline-end:24px;inset-block-end:48px;box-shadow:0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05);}:where(.css-1i536d8).ant-float-btn-pure{position:relative;inset:auto;}:where(.css-1i536d8).ant-float-btn:empty{display:none;}:where(.css-1i536d8).ant-float-btn .ant-float-btn-body{width:100%;height:100%;display:flex;justify-content:center;align-items:center;transition:all 0.2s;}:where(.css-1i536d8).ant-float-btn .ant-float-btn-body .ant-float-btn-content{overflow:hidden;text-align:center;min-height:40px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2px 4px;}:where(.css-1i536d8).ant-float-btn .ant-float-btn-body .ant-float-btn-content .ant-float-btn-icon{text-align:center;margin:auto;width:18px;font-size:18px;line-height:1;}:where(.css-1i536d8).ant-float-btn-circle{height:40px;border-radius:50%;}:where(.css-1i536d8).ant-float-btn-circle .ant-float-btn-body{border-radius:50%;}:where(.css-1i536d8).ant-float-btn-square{height:auto;min-height:40px;border-radius:8px;}:where(.css-1i536d8).ant-float-btn-square .ant-float-btn-body{height:auto;border-radius:4px;}:where(.css-1i536d8).ant-float-btn-default{background-color:#ffffff;transition:background-color 0.2s;}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body{background-color:#ffffff;transition:background-color 0.2s;}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body:hover{background-color:rgba(0, 0, 0, 0.06);}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body .ant-float-btn-content .ant-float-btn-icon{color:rgba(0, 0, 0, 0.88);}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body .ant-float-btn-content .ant-float-btn-description{display:flex;align-items:center;line-height:16px;color:rgba(0, 0, 0, 0.88);font-size:12px;}:where(.css-1i536d8).ant-float-btn-primary{background-color:#1677ff;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body{background-color:#1677ff;transition:background-color 0.2s;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body:hover{background-color:#4096ff;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body .ant-float-btn-content .ant-float-btn-icon{color:#fff;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body .ant-float-btn-content .ant-float-btn-description{display:flex;align-items:center;line-height:16px;color:#fff;font-size:12px;}:where(.css-1i536d8).ant-fade-enter,:where(.css-1i536d8).ant-fade-appear{animation-duration:0.2s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-fade-leave{animation-duration:0.2s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-fade-enter.ant-fade-enter-active,:where(.css-1i536d8).ant-fade-appear.ant-fade-appear-active{animation-name:css-1i536d8-antFadeIn;animation-play-state:running;}:where(.css-1i536d8).ant-fade-leave.ant-fade-leave-active{animation-name:css-1i536d8-antFadeOut;animation-play-state:running;pointer-events:none;}:where(.css-1i536d8).ant-fade-enter,:where(.css-1i536d8).ant-fade-appear{opacity:0;animation-timing-function:linear;}:where(.css-1i536d8).ant-fade-leave{animation-timing-function:linear;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-enter,:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-appear{animation-duration:0.3s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-leave{animation-duration:0.3s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-enter.ant-float-btn-group-wrap-enter-active,:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-appear.ant-float-btn-group-wrap-appear-active{animation-name:css-1i536d8-antFloatButtonMoveDownIn;animation-play-state:running;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-leave.ant-float-btn-group-wrap-leave-active{animation-name:css-1i536d8-antFloatButtonMoveDownOut;animation-play-state:running;pointer-events:none;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-enter,:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-appear{opacity:0;animation-timing-function:cubic-bezier(0.78, 0.14, 0.15, 0.86);}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-leave{animation-timing-function:cubic-bezier(0.78, 0.14, 0.15, 0.86);}</style><div class="ant-float-btn-group css-1i536d8 ant-float-btn-group-circle"><style data-token-hash="nz0e5v" data-css-hash="m8dr4d">:where(.css-1i536d8)[class^="ant-float-btn"],:where(.css-1i536d8)[class*=" ant-float-btn"]{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';font-size:14px;box-sizing:border-box;}:where(.css-1i536d8)[class^="ant-float-btn"]::before,:where(.css-1i536d8)[class*=" ant-float-btn"]::before,:where(.css-1i536d8)[class^="ant-float-btn"]::after,:where(.css-1i536d8)[class*=" ant-float-btn"]::after{box-sizing:border-box;}:where(.css-1i536d8)[class^="ant-float-btn"] [class^="ant-float-btn"],:where(.css-1i536d8)[class*=" ant-float-btn"] [class^="ant-float-btn"],:where(.css-1i536d8)[class^="ant-float-btn"] [class*=" ant-float-btn"],:where(.css-1i536d8)[class*=" ant-float-btn"] [class*=" ant-float-btn"]{box-sizing:border-box;}:where(.css-1i536d8)[class^="ant-float-btn"] [class^="ant-float-btn"]::before,:where(.css-1i536d8)[class*=" ant-float-btn"] [class^="ant-float-btn"]::before,:where(.css-1i536d8)[class^="ant-float-btn"] [class*=" ant-float-btn"]::before,:where(.css-1i536d8)[class*=" ant-float-btn"] [class*=" ant-float-btn"]::before,:where(.css-1i536d8)[class^="ant-float-btn"] [class^="ant-float-btn"]::after,:where(.css-1i536d8)[class*=" ant-float-btn"] [class^="ant-float-btn"]::after,:where(.css-1i536d8)[class^="ant-float-btn"] [class*=" ant-float-btn"]::after,:where(.css-1i536d8)[class*=" ant-float-btn"] [class*=" ant-float-btn"]::after{box-sizing:border-box;}:where(.css-1i536d8).ant-float-btn-group{box-sizing:border-box;margin:0;padding:0;color:rgba(0, 0, 0, 0.88);font-size:14px;line-height:1.5714285714285714;list-style:none;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';z-index:99;display:block;border:none;position:fixed;width:40px;height:auto;box-shadow:none;min-height:40px;inset-inline-end:24px;inset-block-end:48px;border-radius:8px;}:where(.css-1i536d8).ant-float-btn-group .ant-float-btn-group-wrap{z-index:-1;display:block;position:relative;margin-bottom:16px;}:where(.css-1i536d8).ant-float-btn-group:where(.css-1i536d8).ant-float-btn-group-rtl{direction:rtl;}:where(.css-1i536d8).ant-float-btn-group .ant-float-btn{position:static;}:where(.css-1i536d8).ant-float-btn-group-circle .ant-float-btn-circle:not(:last-child){margin-bottom:16px;}:where(.css-1i536d8).ant-float-btn-group-circle .ant-float-btn-circle:not(:last-child) .ant-float-btn-body{width:40px;height:40px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square{border-radius:0;padding:0;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square:first-child{border-start-start-radius:8px;border-start-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square:last-child{border-end-start-radius:8px;border-end-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-square:not(:last-child){border-bottom:1px solid rgba(5, 5, 5, 0.06);}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap{display:block;border-radius:8px;box-shadow:0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05);overflow:hidden;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square{box-shadow:none;margin-top:0;border-radius:0;padding:4px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square:first-child{border-start-start-radius:8px;border-start-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square:last-child{border-end-start-radius:8px;border-end-end-radius:8px;}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square:not(:last-child){border-bottom:1px solid rgba(5, 5, 5, 0.06);}:where(.css-1i536d8).ant-float-btn-group-square .ant-float-btn-group-wrap .ant-float-btn-square .ant-float-btn-body{width:32px;height:32px;}:where(.css-1i536d8).ant-float-btn-group-circle-shadow{box-shadow:none;}:where(.css-1i536d8).ant-float-btn-group-square-shadow{box-shadow:0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05);}:where(.css-1i536d8).ant-float-btn-group-square-shadow .ant-float-btn-square{box-shadow:none;padding:4px;}:where(.css-1i536d8).ant-float-btn-group-square-shadow .ant-float-btn-square .ant-float-btn-body{width:32px;height:32px;}:where(.css-1i536d8).ant-float-btn{box-sizing:border-box;margin:0;padding:0;color:rgba(0, 0, 0, 0.88);font-size:14px;line-height:1.5714285714285714;list-style:none;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';border:none;position:fixed;cursor:pointer;overflow:hidden;z-index:99;display:block;justify-content:center;align-items:center;width:40px;height:40px;inset-inline-end:24px;inset-block-end:48px;box-shadow:0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05);}:where(.css-1i536d8).ant-float-btn-pure{position:relative;inset:auto;}:where(.css-1i536d8).ant-float-btn:empty{display:none;}:where(.css-1i536d8).ant-float-btn .ant-float-btn-body{width:100%;height:100%;display:flex;justify-content:center;align-items:center;transition:all 0.2s;}:where(.css-1i536d8).ant-float-btn .ant-float-btn-body .ant-float-btn-content{overflow:hidden;text-align:center;min-height:40px;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:2px 4px;}:where(.css-1i536d8).ant-float-btn .ant-float-btn-body .ant-float-btn-content .ant-float-btn-icon{text-align:center;margin:auto;width:18px;font-size:18px;line-height:1;}:where(.css-1i536d8).ant-float-btn-circle{height:40px;border-radius:50%;}:where(.css-1i536d8).ant-float-btn-circle .ant-float-btn-body{border-radius:50%;}:where(.css-1i536d8).ant-float-btn-square{height:auto;min-height:40px;border-radius:8px;}:where(.css-1i536d8).ant-float-btn-square .ant-float-btn-body{height:auto;border-radius:4px;}:where(.css-1i536d8).ant-float-btn-default{background-color:#ffffff;transition:background-color 0.2s;}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body{background-color:#ffffff;transition:background-color 0.2s;}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body:hover{background-color:rgba(0, 0, 0, 0.06);}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body .ant-float-btn-content .ant-float-btn-icon{color:rgba(0, 0, 0, 0.88);}:where(.css-1i536d8).ant-float-btn-default .ant-float-btn-body .ant-float-btn-content .ant-float-btn-description{display:flex;align-items:center;line-height:16px;color:rgba(0, 0, 0, 0.88);font-size:12px;}:where(.css-1i536d8).ant-float-btn-primary{background-color:#1677ff;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body{background-color:#1677ff;transition:background-color 0.2s;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body:hover{background-color:#4096ff;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body .ant-float-btn-content .ant-float-btn-icon{color:#fff;}:where(.css-1i536d8).ant-float-btn-primary .ant-float-btn-body .ant-float-btn-content .ant-float-btn-description{display:flex;align-items:center;line-height:16px;color:#fff;font-size:12px;}:where(.css-1i536d8).ant-fade-enter,:where(.css-1i536d8).ant-fade-appear{animation-duration:0.2s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-fade-leave{animation-duration:0.2s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-fade-enter.ant-fade-enter-active,:where(.css-1i536d8).ant-fade-appear.ant-fade-appear-active{animation-name:css-1i536d8-antFadeIn;animation-play-state:running;}:where(.css-1i536d8).ant-fade-leave.ant-fade-leave-active{animation-name:css-1i536d8-antFadeOut;animation-play-state:running;pointer-events:none;}:where(.css-1i536d8).ant-fade-enter,:where(.css-1i536d8).ant-fade-appear{opacity:0;animation-timing-function:linear;}:where(.css-1i536d8).ant-fade-leave{animation-timing-function:linear;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-enter,:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-appear{animation-duration:0.3s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-leave{animation-duration:0.3s;animation-fill-mode:both;animation-play-state:paused;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-enter.ant-float-btn-group-wrap-enter-active,:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-appear.ant-float-btn-group-wrap-appear-active{animation-name:css-1i536d8-antFloatButtonMoveDownIn;animation-play-state:running;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-leave.ant-float-btn-group-wrap-leave-active{animation-name:css-1i536d8-antFloatButtonMoveDownOut;animation-play-state:running;pointer-events:none;}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-enter,:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-appear{opacity:0;animation-timing-function:cubic-bezier(0.78, 0.14, 0.15, 0.86);}:where(.css-1i536d8).ant-float-btn-group-wrap.ant-float-btn-group-wrap-leave{animation-timing-function:cubic-bezier(0.78, 0.14, 0.15, 0.86);}</style><button class="css-1i536d8 ant-float-btn ant-float-btn-default ant-float-btn-circle" type="button"><div class="ant-float-btn-body"><div class="ant-float-btn-content"><div class="ant-float-btn-icon"><span role="img" class="anticon"><svg width="21" height="21" viewBox="0 0 21 21" fill="currentColor"><g fill-rule="evenodd"><g fill-rule="nonzero"><path d="M7.02 3.635l12.518 12.518a1.863 1.863 0 010 2.635l-1.317 1.318a1.863 1.863 0 01-2.635 0L3.068 7.588A2.795 2.795 0 117.02 3.635zm2.09 14.428a.932.932 0 110 1.864.932.932 0 010-1.864zm-.043-9.747L7.75 9.635l9.154 9.153 1.318-1.317-9.154-9.155zM3.52 12.473c.514 0 .931.417.931.931v.932h.932a.932.932 0 110 1.864h-.932v.931a.932.932 0 01-1.863 0l-.001-.931h-.93a.932.932 0 010-1.864h.93v-.932c0-.514.418-.931.933-.931zm15.374-3.727a1.398 1.398 0 110 2.795 1.398 1.398 0 010-2.795zM4.385 4.953a.932.932 0 000 1.317l2.046 2.047L7.75 7 5.703 4.953a.932.932 0 00-1.318 0zM14.701.36a.932.932 0 01.931.932v.931h.932a.932.932 0 010 1.864h-.933l.001.932a.932.932 0 11-1.863 0l-.001-.932h-.93a.932.932 0 110-1.864h.93v-.931a.932.932 0 01.933-.932z"></path></g></g></svg></span></div></div></div></button></div></div><script>$RC("B:1","S:1")</script><div hidden id="S:2"><div class="dumi-default-doc-layout"><div class="dumi-default-header"><div class="dumi-default-header-content"><section class="dumi-default-header-left"><a class="dumi-default-logo" href="/"><img src="https://gw.alipayobjects.com/zos/bmw-prod/d3e3eb39-1cd7-4aa5-827c-877deced6b7e/lalxt4g3_w256_h256.png" alt="Next Dev"/>Next Dev</a></section><section class="dumi-default-header-right"><ul class="dumi-default-navbar"><li><a href="/tutorial">Tutorial</a></li><li><a class="active" href="/blog/roadmap_angular">Blog</a></li><li><a href="/tw-uis">Tw UI</a></li><li><a href="/uis">Antd UI</a></li><li><a href="/configs">Configuration</a></li><li><a href="/libs/changelog">Utilities</a></li><li><a href="/lints">Lint</a></li></ul><div class="dumi-default-header-right-aside"><div class="dumi-default-search-bar"><svg viewBox="64 64 896 896" class="dumi-default-search-bar-svg"><path d="M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg><input class="dumi-default-search-bar-input" placeholder="Type keywords..."/><span class="dumi-default-search-shortcut">⌘<!-- --> K</span></div></div></section><button type="button" class="dumi-default-header-menu-btn"><svg viewBox="64 64 896 896"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></button></div></div><div class="dumi-default-doc-layout-mobile-bar"><button type="button" class="dumi-default-sidebar-btn"><svg viewBox="64 64 896 896"><path d="M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"></path></svg>Sidebar</button></div><main><div class="dumi-default-sidebar"><dl class="dumi-default-sidebar-group"><dt>IT Roadmap</dt><dd><a title="Angular" class="" href="/blog/roadmap_angular">Angular</a></dd><dd><a title="Backend" class="" href="/blog/roadmap_backend">Backend</a></dd><dd><a title="Frontend" class="" href="/blog/roadmap_frontend">Frontend</a></dd><dd><a title="golang" class="" href="/blog/roadmap_galang">golang</a></dd><dd><a title="Javascript" class="" href="/blog/roadmap_javascript">Javascript</a></dd><dd><a title="Nodejs" class="" href="/blog/roadmap_nodejs">Nodejs</a></dd><dd><a title="React" class="" href="/blog/roadmap_react">React</a></dd><dd><a title="Vue" class="" href="/blog/roadmap_vue">Vue</a></dd></dl><dl class="dumi-default-sidebar-group"><dt>IT Stack</dt><dd><a title="Umi 4" class="" href="/blog">Umi 4</a></dd><dd><a title="Architecting a Modern Monorepo with NX and Turborepo" class="" href="/blog/architecting-a-modern-monorepo-with-nx-and-turborepo">Architecting a Modern Monorepo with NX and Turborepo</a></dd><dd><a title="CSS in JS" class="" href="/blog/antd-v5-0-component-level-css-in-js">CSS in JS</a></dd><dd><a title="Next.js 13" aria-current="page" class="active" href="/blog/next-js-13">Next.js 13</a></dd><dd><a title="turbopack benchmarks" class="" href="/blog/ep_04_turbopack01">turbopack benchmarks</a></dd><dd><a title="TypeScript for React" class="" href="/blog/type-script-for-react">TypeScript for React</a></dd></dl></div><div class="dumi-default-content"><!--$?--><template id="B:3"></template><div></div><!--/$--><div class="dumi-default-footer">Open-source MIT Licensed | Copyright © 2019-2022<br /> Powered by Next Dev</div></div><div class="dumi-default-doc-layout-toc-wrapper"><h4>TABLE OF CONTENTS</h4></div></main></div></div><script>$RC("B:2","S:2")</script><div hidden id="S:3"><div class="markdown"><h1 id="nextjs-13"><a aria-hidden="true" tabindex="-1" href="#nextjs-13"><span class="icon icon-link"></span></a>NextJs 13</h1><p>As we announced at <a href="https://nextjs.org/conf">Next.js Conf</a>, Next.js 13 (stable) lays the foundations to be dynamic without limits:</p><ul><li><a href="https://nextjs.org/blog/next-13#new-app-directory-beta"><strong><code>app</code> Directory (beta):</strong></a> Easier, faster, less client JS.
<ul><li><a href="https://nextjs.org/blog/next-13#layouts"><strong>Layouts</strong></a></li><li><a href="https://nextjs.org/blog/next-13#server-components"><strong>React Server Components</strong></a></li><li><a href="https://nextjs.org/blog/next-13#streaming"><strong>Streaming</strong></a></li></ul></li><li><strong><a href="https://nextjs.org/blog/next-13#introducing-turbopack-alpha">Turbopack (alpha):</a></strong> Up to 700x faster Rust-based Webpack replacement.</li><li><strong><a href="https://nextjs.org/blog/next-13#nextimage">New <code>next/image</code>:</a></strong> Faster with native browser lazy loading.</li><li><strong><a href="https://nextjs.org/blog/next-13#nextfont">New <code>@next/font</code> (beta):</a></strong> Automatic self-hosted fonts with zero layout shift.</li><li><strong><a href="https://nextjs.org/blog/next-13#breaking-changes">Improved <code>next/link</code>:</a></strong> Simplified API with automatic <code>&lt;a&gt;</code>.</li></ul><p>Next.js 13 and the <code>pages</code> directory are stable and ready for production. Update today by running:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">npm i next@latest react@latest react-dom@latest eslint-config-next@latest</span></div></pre></div><h2 id="new-app-directory-beta"><a aria-hidden="true" tabindex="-1" href="#new-app-directory-beta"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#new-app-directory-beta">New <code>app</code> Directory (Beta)</a></h2><p>Today, we&#x27;re improving the routing and layouts experience in Next.js and aligning with the future of React with the introduction of the <code>app</code> directory. This is a follow-up to the <a href="https://nextjs.org/blog/layouts-rfc">Layouts RFC</a> previously published for community feedback.</p><p>The <code>app</code> directory is currently in beta and we do not recommend using it in production yet. You can use Next.js 13 with the <code>pages</code> directory with stable features like the improved <a href="https://nextjs.org/blog/next-13#nextimage"><code>next/image</code></a> and <a href="https://nextjs.org/blog/next-13#nextlink"><code>next/link</code></a> components, and opt into the <code>app</code> directory at your own pace. The <code>pages</code> directory will continue to be supported for the foreseeable future.</p><p>The <code>app</code> directory includes support for:</p><ul><li><strong><a href="https://nextjs.org/blog/next-13#layouts">Layouts:</a></strong> Easily share UI between routes while preserving state and avoiding expensive re-renders.</li><li><strong><a href="https://nextjs.org/blog/next-13#server-components">Server Components:</a></strong> Making server-first the default for the most dynamic applications.</li><li><strong><a href="https://nextjs.org/blog/next-13#streaming">Streaming:</a></strong> Display instant loading states and stream in units of UI as they are rendered.</li><li><strong><a href="https://nextjs.org/blog/next-13#data-fetching">Support for Data Fetching:</a></strong> <code>async</code> Server Components and extended <code>fetch</code> API enables component-level fetching.</li></ul><p><img src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Flayouts-rfc%2Fapp-folder.png&amp;w=3840&amp;q=75" alt=""/></p><p>The app directory can be incrementally adopted from your existing pages/ directory.</p><h3 id="layouts"><a aria-hidden="true" tabindex="-1" href="#layouts"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#layouts">Layouts</a></h3><p>The <code>app/</code> directory makes it easy to lay out complex interfaces that maintain state across navigations, avoid expensive re-renders, and enable advanced routing patterns. Further, you can nest layouts, and <strong>colocate application code</strong> with your routes, like components, tests, and styles.</p><p><img src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fcolocating-assets-in-the-app-directory.png&amp;w=3840&amp;q=75" alt=""/></p><p>The app/ directory can be incrementally adopted from your existing pages/ directory.</p><p>Creating routes inside `app/` requires a single file, `page.js`:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">// app/page.js</span></div><div class="token-line"><span class="token plain">// This file maps to the index route (/)</span></div><div class="token-line"><span class="token plain">export default function Page() {</span></div><div class="token-line"><span class="token plain">  return &lt;h1&gt;Hello, Next.js!&lt;/h1&gt;;</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p>You can then <strong>define layouts</strong> through the file system. Layouts share UI between multiple pages. On navigation, layouts preserve state, remain interactive, and do not re-render.</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">// app/blog/layout.js</span></div><div class="token-line"><span class="token plain">export default function BlogLayout({ children }) {</span></div><div class="token-line"><span class="token plain">  return &lt;section&gt;{children}&lt;/section&gt;;</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p><a href="https://beta.nextjs.org/docs/routing/fundamentals">Learn more about layouts and pages</a> or <a href="https://vercel.com/templates/next.js/app-directory">deploy an example to try it out</a>.</p><h3 id="server-components"><a aria-hidden="true" tabindex="-1" href="#server-components"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#server-components">Server Components</a></h3><p>The <code>app/</code> directory introduces support for React&#x27;s new Server Components architecture. <a href="https://beta.nextjs.org/docs/rendering/server-and-client-components">Server and Client Components</a> use the server and the client each for what they&#x27;re best at - allowing you to build fast, highly-interactive apps with a single programming model that provides a great developer experience.</p><p>With Server Components, we&#x27;re laying the foundations to build complex interfaces while <strong>reducing the amount of JavaScript sent to the client</strong>, enabling faster initial page loads.</p><p>When a route is loaded, the Next.js and React runtime will be loaded, which is <strong>cacheable</strong> and <strong>predictable</strong> in size. This runtime does <em>not</em> increase in size as your application grows. Further, the runtime is asynchronously loaded, enabling your HTML from the server to be progressively enhanced on the client.</p><p><a href="https://beta.nextjs.org/docs/rendering/server-and-client-components">Learn more about Server Components</a> or <a href="https://vercel.com/templates/next.js/app-directory">deploy an example to try it out</a>.</p><h3 id="streaming"><a aria-hidden="true" tabindex="-1" href="#streaming"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#streaming">Streaming</a></h3><p>The <code>app/</code> directory introduces the ability to progressively render and incrementally stream rendered units of the UI to the client.</p><p>With Server Components and <a href="https://beta.nextjs.org/docs/routing/pages-and-layouts">nested layouts</a> in Next.js, you&#x27;re able instantly render parts of the page that do not specifically require data, and show a <a href="https://beta.nextjs.org/docs/routing/loading-ui">loading state</a> for parts of the page that are fetching data. With this approach, the user does not have to wait for the entire page to load before they can start interacting with it.</p><p><img src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fstreaming.png&amp;w=3840&amp;q=75" alt=""/></p><p>You can colocate your application code, such as components, tests, and styles, with your routes.</p><p>When deployed to Vercel, Next.js 13 applications that use the <code>app/</code> directory will stream responses by default in both the Node.js and Edge runtimes for improved performance.</p><p><a href="https://beta.nextjs.org/docs/data-fetching/fundamentals">Learn more about streaming</a> or <a href="https://vercel.com/templates/next.js/app-directory">deploy an example to try it out</a>.</p><h3 id="data-fetching"><a aria-hidden="true" tabindex="-1" href="#data-fetching"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#data-fetching">Data Fetching</a></h3><p>React&#x27;s recent <a href="https://github.com/acdlite/rfcs/blob/first-class-promises/text/0000-first-class-support-for-promises.md">Support for Promises RFC</a> introduces a <strong>powerful new way to fetch data and handle promises</strong> inside components:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">// app/page.js</span></div><div class="token-line"><span class="token plain">async function getData() {</span></div><div class="token-line"><span class="token plain">  const res = await fetch(&#x27;https://api.example.com/...&#x27;);</span></div><div class="token-line"><span class="token plain">  // The return value is *not* serialized</span></div><div class="token-line"><span class="token plain">  // You can return Date, Map, Set, etc.</span></div><div class="token-line"><span class="token plain">  return res.json();</span></div><div class="token-line"><span class="token plain">}</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// This is an async Server Component</span></div><div class="token-line"><span class="token plain">export default async function Page() {</span></div><div class="token-line"><span class="token plain">  const data = await getData();</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  return &lt;main&gt;{/* ... */}&lt;/main&gt;;</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p>The native <code>fetch</code> Web API has also been extended in React and Next.js. It <a href="https://beta.nextjs.org/docs/data-fetching/fundamentals#automatic-fetch-request-deduping">automatically dedupes fetch requests</a> and provides <strong>one</strong> flexible way to fetch, cache, and revalidate data at the component level. This means all the benefits of Static Site Generation (SSG), Server-Side Rendering (SSR), and Incremental Static Regeneration (ISR) are now available through one API:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">// This request should be cached until manually invalidated.</span></div><div class="token-line"><span class="token plain">// Similar to `getStaticProps`.</span></div><div class="token-line"><span class="token plain">// `force-cache` is the default and can be omitted.</span></div><div class="token-line"><span class="token plain">fetch(URL, { cache: &#x27;force-cache&#x27; });</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// This request should be refetched on every request.</span></div><div class="token-line"><span class="token plain">// Similar to `getServerSideProps`.</span></div><div class="token-line"><span class="token plain">fetch(URL, { cache: &#x27;no-store&#x27; });</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// This request should be cached with a lifetime of 10 seconds.</span></div><div class="token-line"><span class="token plain">// Similar to `getStaticProps` with the `revalidate` option.</span></div><div class="token-line"><span class="token plain">fetch(URL, { next: { revalidate: 10 } });</span></div></pre></div><p>In the <code>app</code> directory, you can fetch data inside <a href="https://beta.nextjs.org/docs/routing/pages-and-layouts">layouts, pages</a>, and components – including support for <a href="https://nextjs.org/blog/next-13#streaming">streaming responses</a> from the server.</p><p>We&#x27;re enabling ergonomic ways to handle loading and error states and stream in UI as it&#x27;s rendered. In a future release, we&#x27;ll be improving and simplifying data mutations, as well.</p><p><img src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fstreaming.png&amp;w=3840&amp;q=75" alt=""/></p><p>With the app/ directory, you can use a new special file loading.js to automatically create Instant Loading UI with Suspense boundaries.</p><p>We&#x27;re excited to work with the open-source community, package maintainers, and other companies contributing to the React ecosystem to build for this new era of React and Next.js. The ability to colocate data fetching inside components and ship less JavaScript to the client were two important pieces of community feedback we are excited to include with the <code>app/</code> directory.</p><p><a href="https://beta.nextjs.org/docs/data-fetching/fundamentals">Learn more about data fetching</a> or <a href="https://vercel.com/templates/next.js/app-directory">deploy an example to try it out</a>.</p><h2 id="introducing-turbopack-alpha"><a aria-hidden="true" tabindex="-1" href="#introducing-turbopack-alpha"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#introducing-turbopack-alpha">Introducing Turbopack (Alpha)</a></h2><p>Next.js 13 includes <a href="https://vercel.com/blog/turbopack">Turbopack</a>, the new Rust-based successor to Webpack.</p><p>Webpack has been downloaded over <strong>3 billion times</strong>. While it&#x27;s been an integral part of building the Web, we&#x27;ve hit the limits of the maximum performance possible with JavaScript-based tooling.</p><p>In Next.js 12, we began our transition to native Rust-powered tooling. We started by migrating away from Babel, which resulted in 17x faster transpilation. Then, we replaced Terser, which resulted in 6x faster minification. It&#x27;s time to go all-in on native for bundling.</p><p>Using the Turbopack alpha with Next.js 13 results in:</p><ul><li><strong>700x faster</strong> updates than Webpack</li><li><strong>10x faster</strong> updates than Vite</li><li><strong>4x faster</strong> cold starts than Webpack</li></ul><p><img src="https://nextjs.org/_next/image?url=%2Fstatic%2Fblog%2Fnext-13%2Fturbopack.png&amp;w=3840&amp;q=75" alt=""/></p><p>Turbopack is our Rust-based successor to Webpack, with 700x faster HMR for large applications.</p><p><a href="https://turbo.build/pack">Turbopack</a> only bundles the minimum assets required in development, so startup time is extremely fast. On an application with 3,000 modules, <strong>Turbopack takes 1.8 seconds</strong> to boot up. <strong>Vite takes 11.4 seconds</strong> and <strong>Webpack takes 16.5 seconds</strong>.</p><p>Turbopack has out-of-the-box support for Server Components, TypeScript, JSX, CSS, and more. During the alpha, <a href="https://turbo.build/pack/docs/features">many features</a> are not yet supported. We&#x27;d love to hear your feedback on using Turbopack to speed up your local iterations.</p><blockquote><p><strong>Note:</strong> Turbopack in Next.js currently only supports <code>next dev</code>. View the <a href="https://turbo.build/pack/docs/features">supported features</a>. We are also working to add support for <code>next build</code> through Turbopack.</p></blockquote><p>Try out the Turbopack alpha today in Next.js 13 with <code>next dev --turbo</code>.</p><h2 id="nextimage"><a aria-hidden="true" tabindex="-1" href="#nextimage"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#nextimage"><code>next/image</code></a></h2><p>Next.js 13 introduces a <strong>powerful new Image component</strong>, allowing you to easily display images without layout shift and optimize files on-demand for increased performance.</p><p>During the Next.js Community Survey, <strong>70% of respondents</strong> told us they used the Next.js Image component in production, and in turn, saw <strong>improved Core Web Vitals</strong>. With Next.js 13, we&#x27;re improving <code>next/image</code> even further.</p><p>The new Image component:</p><ul><li>Ships less client-side JavaScript</li><li>Easier to style and configure</li><li>More accessible requiring <code>alt</code> tags by default</li><li>Aligns with the Web platform</li><li>Faster because native lazy loading doesn&#x27;t require hydration</li></ul><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">import Image from &#x27;next/image&#x27;;</span></div><div class="token-line"><span class="token plain">import avatar from &#x27;./lee.png&#x27;;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">function Home() {</span></div><div class="token-line"><span class="token plain">  // &quot;alt&quot; is now required for improved accessibility</span></div><div class="token-line"><span class="token plain">  // optional: image files can be colocated inside the app/ directory</span></div><div class="token-line"><span class="token plain">  return &lt;Image alt=&quot;leeerob&quot; src={avatar} placeholder=&quot;blur&quot; /&gt;;</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p><a href="https://nextjs.org/docs/basic-features/image-optimization">Learn more about the Image component</a> or <a href="https://vercel.com/templates/next.js/nextjs-boilerplate">deploy an example to try it out</a>.</p><h3 id="upgrading-nextimage-to-nextjs-13"><a aria-hidden="true" tabindex="-1" href="#upgrading-nextimage-to-nextjs-13"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#upgrading-nextimage-to-nextjs-13">Upgrading <code>next/image</code> to Next.js 13</a></h3><p>The old Image component was renamed to <code>next/legacy/image</code>. We&#x27;ve provided a codemod that will automatically update your existing usage of <code>next/image</code> to <code>next/legacy/image</code>. For example, this command would run the codemod on your <code>./pages</code> directory when run from the root:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">npx @next/codemod next-image-to-legacy-image ./pages</span></div></pre></div><p><a href="https://nextjs.org/docs/advanced-features/codemods">Learn more about the codemod</a> or <a href="https://nextjs.org/docs/basic-features/image-optimization">check out the documentation</a>.</p><h2 id="nextfont"><a aria-hidden="true" tabindex="-1" href="#nextfont"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#nextfont"><code>@next/font</code></a></h2><p>Next.js 13 introduces a <strong>brand new font system</strong> that:</p><ul><li>Automatically optimizes your fonts, including custom fonts</li><li>Removes external network requests for improved privacy and performance</li><li>Built-in automatic self-hosting for any font file</li><li>Zero layout shift automatically using the CSS <a href="https://web.dev/css-size-adjust/"><code>size-adjust</code></a> property</li></ul><p>This new font system allows you to conveniently use all Google Fonts with performance and privacy in mind. CSS and font files are downloaded at build time and self-hosted with the rest of your static assets. <strong>No requests are sent to Google by the browser.</strong></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">import { Inter } from &#x27;@next/font/google&#x27;;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">const inter = Inter();</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">&lt;html className={inter.className}&gt;</span></div></pre></div><p>Custom fonts are also supported, including support for automatic self-hosting, caching, and preloading of font files.</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">import localFont from &#x27;@next/font/local&#x27;;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">const myFont = localFont({ src: &#x27;./my-font.woff2&#x27; });</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">&lt;html className={myFont.className}&gt;</span></div></pre></div><p>You can customize every part of the font loading experience while still ensuring great performance and no layout shift, including the <code>font-display</code>, preloading, fallbacks, and more.</p><p><a href="https://nextjs.org/docs/basic-features/font-optimization">Learn more about the new Font component</a> or deploy an example to try it out.</p><h2 id="nextlink"><a aria-hidden="true" tabindex="-1" href="#nextlink"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#nextlink"><code>next/link</code></a></h2><p><code>next/link</code> no longer requires manually adding <code>&lt;a&gt;</code> as a child.</p><p>This was added as an experimental option in <a href="https://nextjs.org/blog/next-12-2">12.2</a> and is now the default. In Next.js 13, <code>&lt;Link&gt;</code> always renders an <code>&lt;a&gt;</code> and allows you to forward props to the underlying tag. For example:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">import Link from &#x27;next/link&#x27;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// Next.js 12: `&lt;a&gt;` has to be nested otherwise it&#x27;s excluded</span></div><div class="token-line"><span class="token plain">&lt;Link href=&quot;/about&quot;&gt;</span></div><div class="token-line"><span class="token plain">  &lt;a&gt;About&lt;/a&gt;</span></div><div class="token-line"><span class="token plain">&lt;/Link&gt;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// Next.js 13: `&lt;Link&gt;` always renders `&lt;a&gt;`</span></div><div class="token-line"><span class="token plain">&lt;Link href=&quot;/about&quot;&gt;</span></div><div class="token-line"><span class="token plain">  About</span></div><div class="token-line"><span class="token plain">&lt;/Link&gt;</span></div></pre></div><p><a href="https://nextjs.org/docs/api-reference/next/link">Learn more about the improved Link component</a> or <a href="https://vercel.com/templates/next.js/nextjs-boilerplate">deploy an example to try it out</a>.</p><h3 id="upgrading-nextlink-to-nextjs-13"><a aria-hidden="true" tabindex="-1" href="#upgrading-nextlink-to-nextjs-13"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#upgrading-nextlink-to-nextjs-13">Upgrading <code>next/link</code> to Next.js 13</a></h3><p>To upgrade your links to Next.js 13, we&#x27;ve provided a codemod that will automatically update your codebase. For example, this command would run the codemod on your <code>./pages</code> directory when run from the root:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">npx @next/codemod new-link ./pages</span></div></pre></div><p><a href="https://nextjs.org/docs/advanced-features/codemods">Learn more about the codemod</a> or check out the documentation.</p><h2 id="og-image-generation"><a aria-hidden="true" tabindex="-1" href="#og-image-generation"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#og-image-generation">OG Image Generation</a></h2><p>Social cards, also known as open graph images, can massively increase the engagement rate of clicks on your content, with some experiments showing up to 40% better conversions.</p><p>Static social cards are time-consuming, error-prone, and hard to maintain. Because of this, social cards are often lacking or even skipped. Until today, dynamic social cards that need to be personalized and computed on the fly were difficult and expensive.</p><p>We&#x27;ve created a new library <strong><code>@vercel/og</code></strong> that works seamlessly with Next.js to generate dynamic social cards.</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">// pages/api/og.jsx</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">import { ImageResponse } from &#x27;@vercel/og&#x27;;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">export const config = {</span></div><div class="token-line"><span class="token plain">  runtime: &#x27;experimental-edge&#x27;,</span></div><div class="token-line"><span class="token plain">};</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">export default function () {</span></div><div class="token-line"><span class="token plain">  return new ImageResponse(</span></div><div class="token-line"><span class="token plain">    (</span></div><div class="token-line"><span class="token plain">      &lt;div</span></div><div class="token-line"><span class="token plain">        style={{</span></div><div class="token-line"><span class="token plain">          display: &#x27;flex&#x27;,</span></div><div class="token-line"><span class="token plain">          fontSize: 128,</span></div><div class="token-line"><span class="token plain">          background: &#x27;white&#x27;,</span></div><div class="token-line"><span class="token plain">          width: &#x27;100%&#x27;,</span></div><div class="token-line"><span class="token plain">          height: &#x27;100%&#x27;,</span></div><div class="token-line"><span class="token plain">        }}</span></div><div class="token-line"><span class="token plain">      &gt;</span></div><div class="token-line"><span class="token plain">        Hello, World!</span></div><div class="token-line"><span class="token plain">      &lt;/div&gt;</span></div><div class="token-line"><span class="token plain">    ),</span></div><div class="token-line"><span class="token plain">  );</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p>This approach is <strong>5x faster</strong> than existing solutions by using Vercel Edge Functions, WebAssembly, and a brand new core library for converting HTML and CSS into images and leveraging the React component abstraction.</p><p><a href="https://vercel.com/docs/concepts/functions/edge-functions/og-image-generation">Learn more about OG Image Generation</a> or <a href="https://vercel.com/new/clone?repository-url=https://github.com/vercel/examples/tree/main/edge-functions/vercel-og-nextjs&amp;project-name=vercel-og-nextjs&amp;repository-name=vercel-og-nextjs">deploy an example to try it out</a>.</p><h2 id="middleware-api-updates"><a aria-hidden="true" tabindex="-1" href="#middleware-api-updates"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#middleware-api-updates">Middleware API Updates</a></h2><p>In Next.js 12, we introduced Middleware to enable full flexibility with the Next.js router. We&#x27;ve heard your feedback on the initial API design and have added some additions to improve the developer experience and add powerful new functionality.</p><p>You can now more easily set headers on the request:</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">// middleware.ts</span></div><div class="token-line"><span class="token plain">import { NextResponse } from &#x27;next/server&#x27;;</span></div><div class="token-line"><span class="token plain">import type { NextRequest } from &#x27;next/server&#x27;;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">export function middleware(request: NextRequest) {</span></div><div class="token-line"><span class="token plain">  // Clone the request headers and set a new header `x-version`</span></div><div class="token-line"><span class="token plain">  const requestHeaders = new Headers(request.headers);</span></div><div class="token-line"><span class="token plain">  requestHeaders.set(&#x27;x-version&#x27;, &#x27;13&#x27;);</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  // You can also set request headers in NextResponse.rewrite</span></div><div class="token-line"><span class="token plain">  const response = NextResponse.next({</span></div><div class="token-line"><span class="token plain">    request: {</span></div><div class="token-line"><span class="token plain">      // New request headers</span></div><div class="token-line"><span class="token plain">      headers: requestHeaders,</span></div><div class="token-line"><span class="token plain">    },</span></div><div class="token-line"><span class="token plain">  });</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">  // Set a new response header `x-version`</span></div><div class="token-line"><span class="token plain">  response.headers.set(&#x27;x-version&#x27;, &#x27;13&#x27;);</span></div><div class="token-line"><span class="token plain">  return response;</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p>You can also now provide a response directly from Middleware, without having to <code>rewrite</code> or <code>redirect</code>.</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-undefined"><div class="token-line"><span class="token plain">// middleware.ts</span></div><div class="token-line"><span class="token plain">import { NextRequest, NextResponse } from &#x27;next/server&#x27;;</span></div><div class="token-line"><span class="token plain">import { isAuthenticated } from &#x27;@lib/auth&#x27;;</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">// Limit the middleware to paths starting with `/api/`</span></div><div class="token-line"><span class="token plain">export const config = {</span></div><div class="token-line"><span class="token plain">  matcher: &#x27;/api/:function*&#x27;,</span></div><div class="token-line"><span class="token plain">};</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain">export function middleware(request: NextRequest) {</span></div><div class="token-line"><span class="token plain">  // Call our authentication function to check the request</span></div><div class="token-line"><span class="token plain">  if (!isAuthenticated(request)) {</span></div><div class="token-line"><span class="token plain">    // Respond with JSON indicating an error message</span></div><div class="token-line"><span class="token plain">    return NextResponse.json(</span></div><div class="token-line"><span class="token plain">      {</span></div><div class="token-line"><span class="token plain">        success: false,</span></div><div class="token-line"><span class="token plain">        message: &#x27;Auth failed&#x27;,</span></div><div class="token-line"><span class="token plain">      },</span></div><div class="token-line"><span class="token plain">      {</span></div><div class="token-line"><span class="token plain">        status: 401,</span></div><div class="token-line"><span class="token plain">      },</span></div><div class="token-line"><span class="token plain">    );</span></div><div class="token-line"><span class="token plain">  }</span></div><div class="token-line"><span class="token plain">}</span></div></pre></div><p>Sending responses from Middleware currently requires the <code>experimental.allowMiddlewareResponseBody</code> configuration option inside <code>next.config.js</code>.</p><h2 id="breaking-changes"><a aria-hidden="true" tabindex="-1" href="#breaking-changes"><span class="icon icon-link"></span></a><a href="https://nextjs.org/blog/next-13#breaking-changes">Breaking Changes</a></h2><ul><li>The minimum React version has been bumped from 17.0.2 to 18.2.0.</li><li>The minimum Node.js version has been bumped from 12.22.0 to 14.6.0, since 12.x has reached end-of-life (<a href="https://github.com/vercel/next.js/pull/41482">PR</a>).</li><li>The <code>swcMinify</code> configuration property was changed from <code>false</code> to <code>true</code>. See <a href="https://nextjs.org/docs/advanced-features/compiler">Next.js Compiler</a> for more info.</li><li>The <code>next/image</code> import was renamed to <code>next/legacy/image</code>. The <code>next/future/image</code> import was renamed to <code>next/image</code>. A <a href="https://nextjs.org/docs/advanced-features/codemods#next-image-to-legacy-image">codemod is available</a> to safely and automatically rename your imports.</li><li>The <code>next/link</code> child can no longer be <code>&lt;a&gt;</code>. Add the <code>legacyBehavior</code> prop to use the legacy behavior or remove the <code>&lt;a&gt;</code> to upgrade. A <a href="https://nextjs.org/docs/advanced-features/codemods#new-link">codemod is available</a> to automatically upgrade your code.</li><li>Routes are no longer prefetched when the <code>User-Agent</code> is a bot.</li><li>The deprecated <code>target</code> option of <code>next.config.js</code> has been removed.</li><li>The supported browsers have been changed to drop Internet Explorer and target modern browsers. You can still use Browserslist to change targeted browsers.
<ul><li>Chrome 64+</li><li>Edge 79+</li><li>Firefox 67+</li><li>Opera 51+</li><li>Safari 12+</li></ul></li></ul><p>To learn more, check out the <a href="https://nextjs.org/docs/upgrading">upgrade guide</a>.</p></div></div><script>$RC("B:3","S:3")</script>