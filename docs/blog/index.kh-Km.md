---
nav:
  title: Blog
  order: -1
group:
  title: IT Stack
  order: 1
toc: content
---

# Umi 4

Ref source: [umijs](https://umijs.org/blog/umi-4-rc)

សួស្តីអ្នកទាំងអស់គ្នា បន្ទាប់ពីការអភិវឌ្ឍន៍ជាច្រើនខែ Umi 4 នឹងមកជួបអ្នកហើយ។ បើប្រៀបធៀបជាមួយ Umi 2 ទៅ 3 ការផ្លាស់ប្តូរពី 3 ទៅ 4 មានទំហំធំ ហើយរយៈពេលនៃការអភិវឌ្ឍន៍គឺយូរជាង ប៉ុន្តែយើងព្យាយាមកាត់បន្ថយផលប៉ះពាល់លើអ្នកអភិវឌ្ឍន៍។ ទប់អារម្មណ៍រំភើប ខ្ញុំសូមចែករំលែកជាមួយអ្នកនូវអ្វីដែលការផ្លាស់ប្តូរបានកើតឡើង។

🎉 គេហទំព័រ និងឯកសារផ្លូវការថ្មី  
🚀 MFSU V3 & បើកដំណើរការតាមលំនាំដើម  
🎭 ម៉ាស៊ីនបង្កើត Dual និង ESMi 🕸  
Webpack 5  
⛹🏾♂️ React Router 6 & new routing  
🐹 ការអនុវត្តល្អដដែលៗ  
🛡️ ពឹងផ្អែកលើការវេចខ្ចប់មុន  
🤺 ម៉ូដែល Umi Max ⚠️ ឧបសគ្គខ្លាំង ការរួមបញ្ចូលមុខងារ 🎈 នាំចូលទាំងអស់ពី Umi Iteration 🍀 srcTranspiler និង depTranspiler 🌼 jsMinifier និង cssMinifier 🌸 ទិន្នន័យមេតាកម្មវិធី ❄️ Micro generator 🧪 ការកែលម្អខ្នាតតូច

គេហទំព័រផ្លូវការថ្មី និងឯកសារ។ រូបភាពខាងក្រោមគឺជាទំព័រដើមនៃគេហទំព័រផ្លូវការថ្មី រួមទាំងឯកសារដែលបានរៀបចំឡើងវិញ រចនាសម្ព័ន្ធព័ត៌មាន និងកម្មវិធីជំនួយឯកសារដែលទើបនឹងសរសេរថ្មី។ នាពេលបច្ចុប្បន្ននេះ វារួមបញ្ចូលឯកសារមូលដ្ឋានដូចជា ការកំណត់រចនាសម្ព័ន្ធមូលដ្ឋាន API ការធ្វើឱ្យប្រសើរ និងការចាប់ផ្ដើមរហ័ស ហើយឯកសារដែលនៅសល់កំពុងស្ថិតក្រោមការរៀបចំនៅឡើយ។ ការផ្លាស់ប្តូរមួយគឺថាឯកសារនៃកម្មវិធីជំនួយពីមុនត្រូវបានដាក់បញ្ចូលទៅក្នុងគេហទំព័រផ្លូវការរបស់ Umi ហើយក្លាយជាផ្នែកមួយរបស់ Umi Max ហើយមិនចាំបាច់លោតនៅពេលក្រោយនោះទេ។

![](https://img.alicdn.com/imgextra/i1/O1CN014dDq4L1Zc3guRwcse_!!6000000003214-2-tps-1600-941.png)

MFSU V3 & បើកដំណើរការតាមលំនាំដើម។ MFSU បានអាប់ដេតកំណែធំទីបីរបស់វា។ ប្រសិនបើអ្នកប្រើ MFSU នៃ Umi 3 ដែលភ្ជាប់មកជាមួយ ហើយជួបប្រទះបញ្ហា វាត្រូវបានណែនាំឱ្យព្យាយាមម្តងទៀត។ កំណែនេះមានការកែលម្អជាច្រើន និងដោះស្រាយជាមូលដ្ឋាននូវបញ្ហាចំលែកទាំងអស់ដែលអាចជួបប្រទះពីមុន និង ល្បឿនចងក្រង និងទំព័របើកលឿនជាងមុន។ កាលពីម្សិលមិញខ្ញុំក៏បានសរសេរអត្ថបទមួយ ["MFSU Faster Than Vite"](https://mp.weixin.qq.com/s?__biz=MjM5NDgyODI4MQ==&mid=2247484624&idx=1&sn=2addfa8cc2511fbea91faf831195788f) ។ ដោយផ្អែកលើនេះ យើងមានទំនុកចិត្តបើកមុខងារនេះតាមលំនាំដើមនៅក្នុង Umi 4។ វាក៏មានតម្លៃផងដែរក្នុងការនិយាយថា MFSU អាចដំណើរការដោយគ្មាន Umi ។

![](https://img.alicdn.com/imgextra/i2/O1CN01Znj8HD1mCwz72voXv_!!6000000004919-2-tps-1600-807.png)

ម៉ាស៊ីនបង្កើត Dual និង ESMi ។ Umi 4 ផ្តល់នូវរបៀបបង្កើត Vite និង Webpack ពីរសម្រាប់អ្នកអភិវឌ្ឍន៍ដើម្បីជ្រើសរើស ហើយព្យាយាមធានានូវភាពស៊ីសង្វាក់គ្នានៃមុខងាររបស់ពួកគេតាមដែលអាចធ្វើទៅបាន។ សិស្សខ្លះអាចចូលចិត្តការរួមបញ្ចូលគ្នានៃ dev ដោយប្រើ vite និង build ដោយប្រើ webpack ។ ក្នុងពេលជាមួយគ្នានោះ ម៉ាស៊ីនភ្ញៀវ ESMi ត្រូវបានអនុវត្តដោយផ្អែកលើគំរូ Vite ។ ESMi ពឹងផ្អែកលើម៉ាស៊ីនមេ ហើយមិនអាចប្រើនៅលើបណ្តាញខាងក្រៅបានទេ។

Webpack 5. Umi 4 ប្រើ webpack 5 តាមលំនាំដើម និងបើកដំណើរការឃ្លាំងសម្ងាត់រាងកាយ។

React Router 6 & កំណត់ផ្លូវថ្មី។

ការកំណត់ផ្លូវរបស់ Umi 4 ត្រូវបានអនុវត្តដោយផ្អែកលើ React Router 6។ ខ្ញុំផ្ទាល់ចូលចិត្តកំណែនេះខ្លាំងណាស់។ ដោយសារតែ Remix, React Router 6 ពិចារណាលើសេណារីយ៉ូនៃការកំណត់រចនាសម្ព័ន្ធផ្លូវក្នុងការរចនា ដែលអនុញ្ញាតឱ្យខ្ញុំលុបកូដជាច្រើនអំពីការបញ្ជូនបន្តផ្លូវនៅក្នុង អ៊ុំ ៣. ទន្ទឹមនឹងនេះ ដោយផ្អែកលើនេះ រចនាសម្ព័ន្ធផ្លូវថ្មីមួយត្រូវបានរចនាឡើងដើម្បីជួយសម្រួលដល់ការពង្រីក និងដំណើរការសំណើរផ្លូវធម្មតានាពេលអនាគត។

ការអនុវត្តល្អបំផុត ការធ្វើម្តងទៀត។ កម្មវិធីជំនួយនៅក្នុងឃ្លាំង umijs/plugins មុនត្រូវបានសរសេរឡើងវិញ ធ្វើឱ្យប្រសើរឡើង និងបញ្ចូលទៅក្នុងឃ្លាំងសំខាន់។ នេះត្រូវបានធ្វើសម្រាប់ការរចនាកម្រិតកំពូលកាន់តែប្រសើរ និងដើម្បីធ្វើឱ្យរចនាប័ទ្មនៃកម្មវិធីជំនួយផ្លូវការកាន់តែស៊ីសង្វាក់គ្នា។

អាស្រ័យលើការវេចខ្ចប់ជាមុន។ សុវត្ថិភាព និងស្ថិរភាពគឺជាចំណុចសំខាន់ណាស់សម្រាប់បម្រើសហគ្រាស។ លើសពីនេះ ពណ៌ និង faker.js បានបង្កឱ្យមានសំឡេងរំខានជាច្រើននៅក្នុងសហគមន៍នាពេលថ្មីៗនេះ។ គ្មាននរណាម្នាក់ចង់ក្រោកពីដំណេកមិនលក់ទេ អាជីវកម្មដែលពួកគេទទួលខុសត្រូវចំពោះការព្យួរ។ ហើយមានកំហុស។ Umi 4 និង Umi 3 បន្តធ្វើការវេចខ្ចប់ទុកមុនដោយភាពអាស្រ័យ ហើយវាមានភាពហ្មត់ចត់ជាងនេះ មិនត្រឹមតែភាពអាស្រ័យនៅផ្នែកខាងថ្នាំងប៉ុណ្ណោះទេ ថែមទាំងអាស្រ័យទៅលើពេលដំណើរការមួយចំនួនដូចជា core-js និង @babel/runtime ផងដែរ។

![](https://img.alicdn.com/imgextra/i1/O1CN01h44iJg1T09DNuYOlm_!!6000000002319-2-tps-1600-758.png)

Umi Max Umi Max គឺជាកំណែខាងក្រៅនៃក្របខណ្ឌ Bigfish ផ្ទៃក្នុង ដោះស្រាយបញ្ហាផ្ទាល់ខ្លួនរបស់យើង ខណៈពេលដែលផ្តល់ឱ្យសហគមន៍នូវជម្រើសមួយផ្សេងទៀតសម្រាប់ក្របខ័ណ្ឌមជ្ឈិម។

របៀប R&D នាំចូលទាប។

នេះគឺជាមុខងារពិសោធន៍មួយរបស់ Umi 4 ហើយវាត្រូវបានបង្កើតឡើង។ ដំណោះស្រាយគឺអនុញ្ញាតឱ្យអ្នកអភិវឌ្ឍន៍សរសេររបាយការណ៍នាំចូលតិចជាង ឬគ្មាន។ ការនាំចូលមួយចំនួនធំនៅក្នុងគម្រោងពិតជាអាចដំណើរការដោយស្វ័យប្រវត្តិតាមវិធីវិស្វកម្ម។ នៅក្នុង Umi 4 សូមបើកវាតាមរយៈ lowImport: ហើយបន្ទាប់មកអ្នកអាចប្រើ Link ដែលទាក់ទងនឹងការបញ្ជូនបន្ត useLocation ។ល។ ការតភ្ជាប់ដែលទាក់ទងនឹងលំហូរទិន្នន័យ useModel, antd components Button, Calendar ជាដើម និងច្រើនទៀតដោយមិនចាំបាច់នាំចូល។

![](https://img.alicdn.com/imgextra/i4/O1CN0142Vcpt25kMZqjmioe_!!6000000007564-2-tps-1600-631.png)

ការរួមបញ្ចូលមុខងារមានកម្រិតខ្លាំង។ Umi 4 ផ្តល់ API ដើម្បីបង្កើតឧបសគ្គខ្លាំង និងការផ្ទៀងផ្ទាត់លេខកូដងាយស្រួលបំផុត។ API រួមមាន api.onCheck, api.onCheckConfig, api.onCheckPkgJSON និង api.onCheckCode ។ ដូចដែលឈ្មោះបានបង្ហាញ វាងាយស្រួលណាស់ក្នុងការយល់ពីអ្វីដែលពួកគេធ្វើរៀងៗខ្លួន។ អ្នកអាចពិនិត្យ និងពិនិត្យមើលខ្លឹមសារនៃថ្នាក់អាស្រ័យ ថ្នាក់កូដ និង ថ្នាក់កំណត់រចនាសម្ព័ន្ធ។ សម្រាប់ក្រុម។

នាំចូលទាំងអស់ពីការធ្វើឡើងវិញ Umi ។

នេះគឺជាមុខងារដែលបានបន្ថែមទៅ Umi 3 កាលពីពីរឆ្នាំមុន។ ថ្មីៗនេះ វាត្រូវបានគេរកឃើញថាក្របខ័ណ្ឌ និងឧបករណ៍ដូចជា Remix, prisma និង vitekit មានការអនុវត្តស្រដៀងគ្នា។ មានគុណសម្បត្តិនិងគុណវិបត្តិចំពោះវិធីសាស្រ្តនេះ។ អត្ថប្រយោជន៍គឺថាភាពអាស្រ័យមួយចំនួនធំត្រូវបានគ្រប់គ្រងតាមរយៈ umi ហើយអ្នកប្រើប្រាស់មិនចាំបាច់ដំឡើងពួកវាដោយដៃទេ។ គុណវិបត្តិគឺថាវាជាប្រអប់ខ្មៅកាន់តែច្រើននិងការ Hack បន្តិចនៅពេលតែមួយ។ Umi 4 មិនអាចដោះស្រាយបញ្ហាប្រអប់ខ្មៅរបស់វាបានទេ ប៉ុន្តែដោះស្រាយបញ្ហា Hack ដូច្នេះការអនុវត្តមិនមានផលប៉ះពាល់ទេ ហើយអាចរួមបញ្ចូលគ្នាយ៉ាងរលូនជាមួយ Vite, MFSU និងដំណោះស្រាយផ្សេងទៀត។

srcTranspiler និង depTranspiler ។

ផ្តល់ជម្រើសបន្ថែមទៀតសម្រាប់ការចងក្រងកូដប្រភព និងការចងក្រងអាស្រ័យ។ អ្នកអាចជ្រើសរើស babel, swc និង esbuild សម្រាប់ការចងក្រងកូដប្រភព។ បច្ចុប្បន្ននេះមិនមានគ្រាប់ពណ៌ប្រាក់ទេ ដូច្នេះសូមធ្វើការជ្រើសរើសត្រឹមត្រូវសម្រាប់ឈុតត្រឹមត្រូវ។ ឧទាហរណ៍ ដោយសារ swc មិនគាំទ្រកម្រិតកំពូលដែលកំពុងរង់ចាំ វានឹងមានការប៉ះទង្គិចខ្លះជាមួយ mfsu ប៉ុន្តែវាសាកសមសម្រាប់ build ព្រោះវាមានបំណះដែលត្រូវគ្នាជាមួយ es7 ឧទាហរណ៍ esbuild គឺសមរម្យសម្រាប់ dev ព្រោះវាជា លឿន។ នៅក្នុងលក្ខខណ្ឌនៃទិន្នន័យ សូមយកគម្រោង ant-design-pro ជាឧទាហរណ៍។ បើប្រៀបធៀបជាមួយ babel, esbuild សម្រាប់ការចងក្រងកូដប្រភពនឹងលឿនជាង 3s នៅពេលដែល M1 2020 មិនមានឃ្លាំងសម្ងាត់។

jsMinifier និង cssMinifier ។

ទាំងការបង្ហាប់ js និងការបង្ហាប់ css Umi 4 ប្រើ esbuild តាមលំនាំដើម ព្រោះវាលឿន។ វាក៏ផ្តល់នូវជម្រើសបន្ថែមទៀតផងដែរ ការបង្ហាប់ js ក៏គាំទ្រ swc, terser និង uglifyJs ការបង្ហាប់ css ក៏គាំទ្រ cssnano ផងដែរ។

ទិន្នន័យមេតាកម្មវិធី។ Umi 4 ប្រមូលទិន្នន័យគម្រោងផ្សេងៗតាមរយៈ api.appData ពីការកំណត់រចនាសម្ព័ន្ធ ការកំណត់ផ្លូវ package.json, tsconfig.json, npmClient ទៅលំហូរទិន្នន័យ ការធ្វើអន្តរកម្ម កំណែរបស់ antd មួយណាត្រូវបានប្រើប្រាស់ កំណែនៃប្រតិកម្ម និងប្រតិកម្ម-dom ។ល។ ដែលមានប្រយោជន៍ខ្លាំងណាស់សម្រាប់អ្នកអភិវឌ្ឍន៍កម្មវិធីជំនួយ ហើយក៏អនុវត្តចំពោះសេណារីយ៉ូដែលមានតម្រូវការស្ថិតិផងដែរ។

ម៉ាស៊ីនភ្លើងខ្នាតតូច។ ត្រឹមត្រូវហើយ វាគឺជាមីក្រូបង្កើតរបស់ modern.js មុខងារនេះបានរៀនច្រើនពី modern.js ដូច្នេះឈ្មោះនឹងមិនត្រូវបានផ្លាស់ប្តូរទេ។ ជាឧទាហរណ៍ មុខងារស្អាតជាងនេះប្រហែលជាមិនត្រូវបានទាមទារសម្រាប់រាល់គម្រោងនោះទេ ប៉ុន្តែវាកាន់តែស័ក្តិសមសម្រាប់ម៉ាស៊ីនភ្លើងខ្នាតតូច ការបើកដំណើរការ បន្ថែមការកំណត់រចនាសម្ព័ន្ធ និងការដំឡើងភាពអាស្រ័យតាមតម្រូវការ។

ការកែលម្អតូចៗប្រកបដោយការគិត។ វានៅតែមានការកែលម្អតូចៗជិតស្និទ្ធជាច្រើន ដើម្បីផ្តល់ឧទាហរណ៍ពីរ។ 1 គឺជា plugin.ts ដែលបានបន្ថែមថ្មីនៅក្នុងគម្រោង ដែលនឹងត្រូវបានបន្ថែមជាកម្មវិធីជំនួយតាមលំនាំដើម ដែលងាយស្រួលសម្រាប់ផ្នែកបន្ថែមកម្រិត plug-in មួយចំនួននៃគម្រោង។ 2 គឺនៅពេលដែលបញ្ហាបំបាត់កំហុស វាជាធម្មតាចាំបាច់។ ដើម្បីកែប្រែកូដដែលបានចងក្រងដើម្បីមើលថាតើមានការផ្លាស់ប្តូរឬអត់។ អ្នកអាចទាញយក umi.js រក្សាទុកវានៅក្នុងថត root របស់គម្រោង ហើយ umi នឹងប្រើកូដនេះជាមុន។

ខាងលើគឺជាមុខងារថ្មីៗរបស់ Umi 4។

លើសពីនេះទៅទៀត មានរឿងមួយចំនួនទៀតដែលគ្រោងនឹងធ្វើមុនពេលចេញជាផ្លូវការ។ រួមទាំង ផ្លូវ api, ម៉ាស៊ីនមេ umi និងអាដាប់ទ័រ, កម្មវិធីផ្ទុកផ្លូវ, ស្រទាប់ស្ថេរភាព, ពាក្យបញ្ជាច្រើនទៀត, ឪពុកអភិវឌ្ឍន៍សមាសភាគ 4, ឧបករណ៍ឯកសារ dumi 2 ជាដើម នឹងជួបអ្នកនៅក្នុងកំណែ RC បន្ទាប់។

សូមស្វាគមន៍អ្នកគ្រប់គ្នាក្នុងការសាកល្បង Umi 4 ឯកសារផ្លូវការបានរៀបចំឯកសារធ្វើឱ្យប្រសើរឡើង ant-design-pro ពី Umi 3 ទៅ 4 ។ ទន្ទឹមនឹងនេះ នៅក្នុងដំណាក់កាល RC ក្រុមផ្លាស់ប្តូរ WeChat សម្រាប់ការធ្វើឱ្យប្រសើរឡើងដោយដៃ ក៏ត្រូវបានរៀបចំផងដែរ ។ អ្នកត្រួសត្រាយនៃ Umi 4 ត្រូវបានស្វាគមន៍ក្នុងការចូលរួម។ ខ្ញុំសូមជូនពរឱ្យអ្នកធ្វើឱ្យប្រសើរឡើងដោយរលូន ហើយសូមជូនពរឱ្យអ្នករីករាយឆ្នាំថ្មី 🧨 និងសំណាងល្អ 🐯 ឆ្នាំមុន។
