<!DOCTYPE html><html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="shortcut icon" href="https://gw.alipayobjects.com/zos/bmw-prod/d3e3eb39-1cd7-4aa5-827c-877deced6b7e/lalxt4g3_w256_h256.png">
<link rel="stylesheet" href="/next-dev/umi.58646bc0.css">
<title data-rh="true">常见问题</title>
<meta data-rh="true" property="og:title" content="常见问题"/><meta data-rh="true" name="description" content="Umi 是前端开发框架，适用于前端应用研发；dumi 是在 Umi 的基础上打造的静态站点框架，适用于组件研发。"/><meta data-rh="true" property="og:description" content="Umi 是前端开发框架，适用于前端应用研发；dumi 是在 Umi 的基础上打造的静态站点框架，适用于组件研发。"/>
</head>
<body>
<noscript><b>Enable JavaScript to run this app.</b></noscript><div id="root"><!--$?--><template id="B:0"></template><div></div><!--/$--></div><script>window.__UMI_LOADER_DATA__ = {}</script>
<script src="/next-dev/umi.3ad2b7a6.js"></script>

</body></html><div hidden id="S:0"><!--$?--><template id="B:1"></template><div></div><!--/$--></div><script>function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("B:0","S:0")</script><div hidden id="S:1"><div class="dumi-default-doc-layout"><div class="dumi-default-header"><div class="dumi-default-header-content"><section class="dumi-default-header-left"><a class="dumi-default-logo" href="/"><img src="https://gw.alipayobjects.com/zos/bmw-prod/d3e3eb39-1cd7-4aa5-827c-877deced6b7e/lalxt4g3_w256_h256.png" alt="Next Dev"/>Next Dev<!-- --></a></section><section class="dumi-default-header-right"><ul class="dumi-default-navbar"><li><a class="active" href="/guide">Guide</a></li><li><a href="/blog/e1_umi4">Blog</a></li></ul><div class="dumi-default-header-right-aside"><div class="dumi-default-search-bar"><svg viewBox="64 64 896 896"><path d="M909.6 854.5 649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg><input placeholder="Type keywords..."/><span class="dumi-default-search-shortcut">⌘<!-- --> K<!-- --></span></div><a class="dumi-default-lang-switch" href="/kh-Km/guide/faq">ខ្មែរ</a></div></section><button type="button" class="dumi-default-header-menu-btn"><svg viewBox="64 64 896 896"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></button></div></div><div class="dumi-default-doc-layout-mobile-bar"><button type="button" class="dumi-default-sidebar-btn"><svg viewBox="64 64 896 896"><path d="M120 230h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm0 424h496c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm784 140H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-424H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"></path></svg>Sidebar<!-- --></button></div><main><div class="dumi-default-sidebar"><dl class="dumi-default-sidebar-group"><dt>介绍</dt><dd><a title="Guide" class="" href="/guide">Guide</a></dd></dl><dl class="dumi-default-sidebar-group"><dt>基础</dt><dd><a title="初始化" class="" href="/guide/initialize">初始化</a></dd><dd><a title="目录结构" class="" href="/guide/project-structure">目录结构</a></dd><dd><a title="约定式路由" class="" href="/guide/conventional-routing">约定式路由</a></dd><dd><a title="页面渲染配置" class="" href="/guide/page-config">页面渲染配置</a></dd><dd><a title="写组件 demo" class="" href="/guide/write-demo">写组件 demo</a></dd><dd><a title="Markdown 增强" class="" href="/guide/markdown">Markdown 增强</a></dd></dl><dl class="dumi-default-sidebar-group"><dt>进阶</dt><dd><a title="多语言" class="" href="/guide/i18n">多语言</a></dd><dd><a title="页面 Tab" class="" href="/guide/page-tab">页面 Tab</a></dd></dl><dl class="dumi-default-sidebar-group"><dt>其他</dt><dd><a title="从 dumi 1.x 升级" class="" href="/guide/upgrading">从 dumi 1.x 升级</a></dd><dd><a title="常见问题" aria-current="page" class="active" href="/guide/faq">常见问题</a></dd></dl></div><div class="dumi-default-content"><!--$?--><template id="B:2"></template><div></div><!--/$--><div class="dumi-default-footer">Open-source MIT Licensed | Copyright © 2019-present
<br />
Powered by self</div></div></main></div></div><script>$RC("B:1","S:1")</script><div hidden id="S:2"><div class="markdown"><h1 id="常见问题"><a aria-hidden="true" tabindex="-1" href="#常见问题"><span class="icon icon-link"></span></a>常见问题<!-- --></h1><h2 id="dumi-和-umi-的关系是什么"><a aria-hidden="true" tabindex="-1" href="#dumi-和-umi-的关系是什么"><span class="icon icon-link"></span></a>dumi 和 Umi 的关系是什么？<!-- --></h2><p>Umi 是前端开发框架，适用于前端应用研发；dumi 是在 Umi 的基础上打造的静态站点框架，适用于组件研发。</p><h2 id="如何完全自定义首页"><a aria-hidden="true" tabindex="-1" href="#如何完全自定义首页"><span class="icon icon-link"></span></a>如何完全自定义首页？<!-- --></h2><p>创建 <!-- --><code>.dumi/pages/index.tsx</code> 即可用 React 来编写首页，注意不要同时在文档解析的根目录中创建 index.md，会导致路由冲突。<!-- --></p><h2 id="dumi-支持使用-md-之外的其他方式编写文档吗"><a aria-hidden="true" tabindex="-1" href="#dumi-支持使用-md-之外的其他方式编写文档吗"><span class="icon icon-link"></span></a>dumi 支持使用 <!-- --><code>.md</code> 之外的其他方式编写文档吗？<!-- --></h2><p>dumi 约定 <!-- --><code>.dumi/pages</code> 为 React 路由的解析目录，较为复杂的交互式页面可以在这个目录下用 React 编写，路由的生成规则及 FrontMatter 能力与 md 一致。<!-- --></p><h2 id="如何在-cra-等非-umi-项目中使用-dumi"><a aria-hidden="true" tabindex="-1" href="#如何在-cra-等非-umi-项目中使用-dumi"><span class="icon icon-link"></span></a>如何在 cra 等非 umi 项目中使用 dumi？<!-- --></h2><ol><li>安装模块。</li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-bash"><div class="token-line"><span class="token function">yarn</span><span class="token plain"> </span><span class="token function">add</span><span class="token plain"> dumi cross-env -D</span></div></pre></div><ol start="2"><li>增加启动命令，修改 <!-- --><code>package.json</code>。<!-- --></li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-json"><div class="token-line"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property">&quot;dumi&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;cross-env APP_ROOT=dumi dumi dev&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property">&quot;dumi-build&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;cross-env APP_ROOT=dumi dumi build&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span></div></pre></div><ol start="3"><li>增加配置，新建 <!-- --><code>.dumirc</code>。<!-- --></li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-js"><div class="token-line"><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token function">chainWebpack</span><span class="token punctuation">(</span><span class="token parameter">memo</span><span class="token punctuation">)</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    memo</span><span class="token punctuation">.</span><span class="token property-access">plugins</span><span class="token punctuation">.</span><span class="token method function property-access">delete</span><span class="token punctuation">(</span><span class="token string">&#x27;copy&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><ol start="4"><li><p>新建文档目录 <!-- --><code>dumi/docs/</code>，这里的 <!-- --><code>dumi</code> 目录即第二步中配置的环境变量，你可以随意同步修改。<!-- --></p></li><li><p>新建文档 <!-- --><code>dumi/docs/index.md</code>。<!-- --></p></li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-markdown"><div class="token-line"><span class="token title important punctuation">#</span><span class="token title important"> 这是一个 Dumi 结合 create-react-app 的 Demo</span></div></pre></div><ol start="6"><li>将 dumi 的临时文件添加到 <!-- --><code>.gitignore</code> 中。<!-- --></li></ol><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-text"><div class="token-line"><span class="token plain">.dumi</span></div></pre></div><h2 id="dumi-支持基于其他技术框架例如-vueangular-编写文档和-demo-吗"><a aria-hidden="true" tabindex="-1" href="#dumi-支持基于其他技术框架例如-vueangular-编写文档和-demo-吗"><span class="icon icon-link"></span></a>dumi 支持基于其他技术框架、例如 Vue、Angular 编写文档和 Demo 吗？<!-- --></h2><p>暂不支持</p><h2 id="如何添加统计脚本和全局-css-样式"><a aria-hidden="true" tabindex="-1" href="#如何添加统计脚本和全局-css-样式"><span class="icon icon-link"></span></a>如何添加统计脚本和全局 CSS 样式？<!-- --></h2><p>统计脚本可以使用配置项 <!-- --><a href="/config#analytics">analytics</a>，全局样式可以添加到 <!-- --><code>.dumi/global.{less,css}</code> 文件内。<!-- --></p><h2 id="部署文档"><a aria-hidden="true" tabindex="-1" href="#部署文档"><span class="icon icon-link"></span></a>部署文档<!-- --></h2><h3 id="非根目录部署"><a aria-hidden="true" tabindex="-1" href="#非根目录部署"><span class="icon icon-link"></span></a>非根目录部署<!-- --></h3><p>非根目录部署需要修改 Umi 的 <!-- --><a href="/config#base">base 配置项</a> 和 <!-- --><strong>视实际情况</strong> 修改 <!-- --><a href="/config#publicpath">publicPath 配置项</a>。<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-ts"><div class="token-line"><span class="token keyword">export</span><span class="token plain"> </span><span class="token keyword">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  base</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/文档起始路由&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  publicPath</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&#x27;/静态资源起始路径/&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">// 其他配置</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span></div></pre></div><blockquote><p>文档项目独立时, 通常 <!-- --><code>base</code> 和 <!-- --><code>publicPath</code> 配置项相同。<!-- --></p></blockquote><h3 id="部署到-github-pages"><a aria-hidden="true" tabindex="-1" href="#部署到-github-pages"><span class="icon icon-link"></span></a>部署到 GitHub Pages<!-- --></h3><p>由于 GitHub Pages 是非域名根路径部署, <!-- --><code>base</code> 和 <!-- --><code>publicPath</code> 配置项需改为 <!-- --><strong>仓库名称</strong> 。参考 <!-- --><a href="/guide/faq#%E9%9D%9E%E6%A0%B9%E7%9B%AE%E5%BD%95%E9%83%A8%E7%BD%B2">非根目录部署</a></p><h4 id="手动部署"><a aria-hidden="true" tabindex="-1" href="#手动部署"><span class="icon icon-link"></span></a>手动部署<!-- --></h4><p>借助 <!-- --><a href="https://github.com/tschaub/gh-pages">gh-pages</a> 可以轻松帮助我们部署文档到 Github Page<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-bash"><div class="token-line"><span class="token function">npm</span><span class="token plain"> </span><span class="token function">install</span><span class="token plain"> gh-pages --save-dev</span></div></pre></div><p>or</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-bash"><div class="token-line"><span class="token function">yarn</span><span class="token plain"> </span><span class="token function">add</span><span class="token plain"> gh-pages -D</span></div></pre></div><p><code>package.json</code> 中添加<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-json"><div class="token-line"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;deploy&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;gh-pages -d dist&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span></div></pre></div><p>编译生成 <!-- --><code>dist</code> 目录<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-bash"><div class="token-line"><span class="token function">npm</span><span class="token plain"> run docs:build</span></div></pre></div><p>一键发布</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-bash"><div class="token-line"><span class="token function">npm</span><span class="token plain"> run deploy</span></div></pre></div><h4 id="自动部署"><a aria-hidden="true" tabindex="-1" href="# 自动部署"><span class="icon icon-link"></span></a>自动部署<!-- --></h4><p>利用 <!-- --><a href="https://github.com/features/actions">Github Action</a> 在每次 <!-- --><code>master</code> 分支更新后自动部署<!-- --></p><p>新建 <!-- --><code>.github/workflows/gh-pages.yml</code> 文件<!-- --></p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-yml"><div class="token-line"><span class="token key atrule">name</span><span class="token punctuation">:</span><span class="token plain"> github pages</span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token key atrule">on</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token key atrule">push</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token key atrule">branches</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> master </span><span class="token comment"># default branch</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token key atrule">jobs</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token key atrule">deploy</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token key atrule">runs-on</span><span class="token punctuation">:</span><span class="token plain"> ubuntu</span><span class="token punctuation">-</span><span class="token number">18.04</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token key atrule">steps</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule">uses</span><span class="token punctuation">:</span><span class="token plain"> actions/checkout@v2</span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule">run</span><span class="token punctuation">:</span><span class="token plain"> npm install</span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule">run</span><span class="token punctuation">:</span><span class="token plain"> npm run docs</span><span class="token punctuation">:</span><span class="token plain">build</span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">-</span><span class="token plain"> </span><span class="token key atrule">name</span><span class="token punctuation">:</span><span class="token plain"> Deploy</span></div><div class="token-line"><span class="token plain">        </span><span class="token key atrule">uses</span><span class="token punctuation">:</span><span class="token plain"> peaceiris/actions</span><span class="token punctuation">-</span><span class="token plain">gh</span><span class="token punctuation">-</span><span class="token plain">pages@v3</span></div><div class="token-line"><span class="token plain">        </span><span class="token key atrule">with</span><span class="token punctuation">:</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token key atrule">github_token</span><span class="token punctuation">:</span><span class="token plain"> $</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token plain"> secrets.GITHUB_TOKEN </span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token key atrule">publish_dir</span><span class="token punctuation">:</span><span class="token plain"> ./docs</span><span class="token punctuation">-</span><span class="token plain">dist</span></div></pre></div><h2 id="dumi-如何支持对-swiftckotlin-等语言的语法高亮"><a aria-hidden="true" tabindex="-1" href="#dumi-如何支持对-swiftckotlin-等语言的语法高亮"><span class="icon icon-link"></span></a>dumi 如何支持对 Swift、C#、Kotlin 等语言的语法高亮？<!-- --></h2><p>dumi 语法高亮使用的 <!-- --><a href="https://github.com/FormidableLabs/prism-react-renderer">prism-react-renderer</a> ，是一款基于 <!-- --><a href="https://github.com/PrismJS/prism">PrismJS</a> 实现的 React 组件。 <!-- --><code>PrismJS</code> 支持的语言种类很多，但 <!-- --><code>prism-react-renderer</code> 在实现的时候对部分语言进行了移除，其具体原因可以查看 <!-- --><a href="https://github.com/FormidableLabs/prism-react-renderer/issues/53#issuecomment-546653848">Adding Out of the Box Languages</a>。<!-- --></p><p>我们在 dumi 中可以通过 下面的方式，添加对其他语言的支持：</p><div class="dumi-default-source-code"><button type="button" class="dumi-default-source-code-copy"><svg viewBox="64 64 896 896"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2 263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"></path></svg></button><pre class="prism-code language-tsx"><div class="token-line"><span class="token comment">// .dumi/global.ts</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">import</span><span class="token plain"> </span><span class="token imports maybe-class-name">Prism</span><span class="token plain"> </span><span class="token keyword">from</span><span class="token plain"> </span><span class="token string">&#x27;prism-react-renderer/prism&#x27;</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token plain"> global </span><span class="token operator">!==</span><span class="token plain"> </span><span class="token string">&#x27;undefined&#x27;</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> global </span><span class="token operator">:</span><span class="token plain"> </span><span class="token dom variable">window</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">Prism</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token maybe-class-name">Prism</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">
</span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;prismjs/components/prism-kotlin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;prismjs/components/prism-csharp&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div></pre></div></div></div><script>$RC("B:2","S:2")</script>